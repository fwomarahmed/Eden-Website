# File: my_app/www/home_page.py
import frappe

def get_context(context):
    # Fetch all documents from "Eden Workshops" doctype
    workshops = frappe.get_all(
        "Eden Workshops",
        fields=[
            "workshop_title",
            "workshop_subtitle",
            "workshop_date",
            "workshop_time",
            "workshop_status",
            "workshop_image",
            "workshop_url_link",
        ],
    )

    # Print the fetched workshops for debugging
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("##################################################################################")
    print("Workshops:", workshops)

    # Add a Frappe msgprint for debugging
    frappe.msgprint("Fetched workshops: {}".format(workshops))

    # Pass the workshops to the context
    context["workshops"] = workshops

    # Add a Frappe msgprint for context verification
    frappe.msgprint("Context: {}".format(context))

    return context
